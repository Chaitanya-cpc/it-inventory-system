{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
  <h1>{{ title }}</h1>
  <a href="{{ url_for('main.hardware_add') }}" class="btn btn-primary mb-3">Add New Hardware</a>

  {% if assets %}
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Category</th>
        <th>Status</th>
        <th>Serial Number</th>
        <th>Assigned User</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for asset in assets %}
      <tr>
        <td>{{ asset.id }}</td>
        <td><a href="{{ url_for('main.hardware_view', asset_id=asset.id) }}">{{ asset.name }}</a></td>
        <td>{{ asset.category or 'N/A' }}</td>
        <td>{{ asset.status or 'N/A' }}</td>
        <td>{{ asset.serial_number or 'N/A' }}</td>
        <td>{{ asset.assigned_user or 'N/A' }}</td>
        <td>
            <a href="{{ url_for('main.hardware_view', asset_id=asset.id) }}" class="btn btn-sm btn-info">View</a>
            <a href="{{ url_for('main.hardware_edit', asset_id=asset.id) }}" class="btn btn-sm btn-warning">Edit</a>
            <!-- Delete Button (use a form for POST) -->
            <form action="{{ url_for('main.hardware_delete', asset_id=asset.id) }}" method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete asset {{ asset.id }}?');">
                <!-- Add CSRF token here if using Flask-WTF -->
                <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No hardware assets found.</p>
  {% endif %}
{% endblock %}