{% extends 'base.html' %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
 <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{ title }}</h1>
    <div>
        Show expiring within:
        <a href="{{ url_for('main.report_expiring_info', days=30) }}" class="btn btn-sm btn-outline-secondary {% if days == 30 %}active{% endif %}">30 Days</a>
        <a href="{{ url_for('main.report_expiring_info', days=60) }}" class="btn btn-sm btn-outline-secondary {% if days == 60 %}active{% endif %}">60 Days</a>
        <a href="{{ url_for('main.report_expiring_info', days=90) }}" class="btn btn-sm btn-outline-secondary {% if days == 90 %}active{% endif %}">90 Days</a>
    </div>
</div>

 {% if infos %}
  <div class="table-responsive">
    <table class="table table-striped table-hover table-sm">
      <thead>
        <tr>
           <th>Hardware Asset</th>
           <th>Info Type</th>
           <th>Name / Desc</th>
           <th>Expires On</th>
        </tr>
      </thead>
      <tbody>
          {% for info in infos %}
          <tr>
             <td><a href="{{ url_for('main.hardware_view', asset_id=info.hardware_asset_id) }}">{{ info.hardware_name }} (ID: {{ info.hardware_asset_id }})</a></td>
             <td>{{ info.info_type }}</td>
             <td><a href="{{ url_for('main.info_edit', info_id=info.id) }}">{{ info.name }}</a></td>
             <td>{{ info.expiry_date.strftime('%Y-%m-%d') if info.expiry_date else 'N/A' }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p>No information records found expiring within {{ days }} days.</p>
  {% endif %}

{% endblock %}